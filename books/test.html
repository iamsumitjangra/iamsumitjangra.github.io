<!DOCTYPE html>
<html>
<head>
    <title>Books Test</title>
</head>
<body>
    <h1>Books Loading Test</h1>
    <div id="output"></div>
    
    <script>
        console.log('ğŸš€ Test page loaded');
        
        // Test CSV loading
        fetch('books.csv')
            .then(response => {
                console.log('ğŸ“„ CSV fetch response:', response.status);
                return response.text();
            })
            .then(csvText => {
                console.log('ğŸ“„ CSV loaded, length:', csvText.length);
                
                // Simple CSV parsing test
                const lines = csvText.split('\n');
                console.log('ğŸ“„ Total lines:', lines.length);
                console.log('ğŸ“„ First line (headers):', lines[0]);
                
                // Find books marked as "read"
                let readBooks = 0;
                for (let i = 1; i < lines.length; i++) {
                    if (lines[i].includes(',read,')) {
                        readBooks++;
                        if (readBooks <= 3) {
                            console.log(`ğŸ“š Read book ${readBooks}:`, lines[i].substring(0, 100) + '...');
                        }
                    }
                }
                
                console.log(`ğŸ“Š Total books marked as read: ${readBooks}`);
                document.getElementById('output').innerHTML = `
                    <p>CSV loaded successfully!</p>
                    <p>Total lines: ${lines.length}</p>
                    <p>Books marked as "read": ${readBooks}</p>
                `;
            })
            .catch(error => {
                console.error('âŒ Error:', error);
                document.getElementById('output').innerHTML = `<p style="color: red;">Error: ${error.message}</p>`;
            });
    </script>
</body>
</html>
